---
id: 77
title: wlstat 0.6 版本发布
date: 2010-04-09T14:53:48+00:00
author: 刘长炯
layout: post
guid: 'http://www.beansoft.biz/wlstat/20100477/wlstat-0-6-%e7%89%88%e6%9c%ac%e5%8f%91%e5%b8%83.html'
permalink: '/2010/04/09/wlstat-0-6-%e7%89%88%e6%9c%ac%e5%8f%91%e5%b8%83/'
views:
  - "3592"
original_post_id:
  - "77"
categories:
  - WebLogic 监控
---
[http://www.beansoft.biz/?attachment_id=76](http://www.beansoft.biz/?attachment_id=76 "http://www.beansoft.biz/?attachment_id=76")

&#160;

此版本仍然只支持 WebLogic 8.1

&#160;

WLSTAT for WLS8 演示版 20100409 

重要提示:   
请使用 JDK 1.4 系列的最新版本运行此程序, 以避免可能存在的数据过多时, 无法正常显示图表的问题. 已知在 JDK 1.4.2_05版本会存在大数据量下无法正常绘图的情况.   
建议您使用最新版的 JDK/JRE 1.4, 例如 Java SE Development Kit 1.4.2_19 , 下载地址: <http://java.sun.com/javase/downloads/jdk/142/>

作者: BeanSoft@126.com , 2010年4月9日, <http://beansoft.biz>   
合作伙伴: dev2dev.weblogicfans.net 

改动日志:   
2010-04-09   
增加图形查看的浮动模式   
2010-04-06   
小改动, 配置文件独立   
2010-04-01   
界面改进, 可配置表格列显示   
改进: 数据更新与界面更新独立   
改进: Admin Server 未启动时, 不影响正常运行 

2010-03-04   
增强了异常处理, 当服务器非正常关闭时, 不影响应用执行   
加入了非运行状态Server自动隐藏相关统计图的功能   
加入了图表最小尺寸限制及最大列数限制(默认最多4列), 防止图表过小   
目前支持内存和线程(吞吐量)两套实时统计图   
修改了图的配色方案 

2010-03-03   
增加内存曲线图形界面版   
命令行输出格式化, 移除刷屏功能, 使之跨平台(注意建议使用重定向方式工作, 避免Windows控制台挂掉);   
加入定时功能 

2010-03-02   
第一版 

很早的 dev2dev上有个监控软件 wlstat, 可以很方便的监控单个服务器的监控状况. 很可惜, 这个包无论如何也找不到下载的地方了. 没办法, 我只好自己参考 WebLogic JMX 手册做了个能监控所有服务器状况的东西. 本应用是跨平台的纯Java编写(除了这个Win版本的清屏), 如有兴趣参与测试, 请留言索取! 

此版本暂为Win版本, 客户端只在Win下测试过, JVM 版本为 SUN JDK 和 BEA JRockit,服务器端可以为 Win, Linux, Solaris 等不限. 

监控 WebLogic 8 集群中所有Server的关键运行参数并输出到CSV日志文件中和实时控制台上, 默认两秒钟刷新一次, 便于日后复查及使用Excel生成监控报表, 支持中英文双语界面. 欢迎反馈宝贵意见. 

图形界面实时图表版本正在完善中. 

监控的属性列表及输出如下所示:   
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 时间 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 实例名 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 端口 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 状态 |&#160;&#160;&#160;&#160;&#160;&#160; 堆最大值 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 当前堆 |&#160;&#160;&#160;&#160;&#160;&#160; 堆增加值 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 套接字 |&#160;&#160;&#160;&#160; 待处理请求 |&#160;&#160;&#160;&#160;&#160; 吞吐量/秒 |&#160;&#160;&#160;&#160;&#160;&#160; 闲置线程 |&#160;&#160; JDBC最大容量 |&#160;&#160; JDBC当前容量 |&#160;&#160; JDBC总连接数 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 会话数 | 会话数最高纪录 |&#160;&#160;&#160;&#160;&#160;&#160; 总会话数 |   
&#160;&#160;&#160;&#160;&#160;&#160;&#160; Time |&#160;&#160;&#160;&#160;&#160;&#160; Server |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Port |&#160;&#160;&#160;&#160;&#160;&#160;&#160; State |&#160;&#160;&#160;&#160;&#160; HeapMax |&#160;&#160;&#160;&#160; HeapUsed |&#160;&#160;&#160; HeapGrown |&#160;&#160;&#160;&#160;&#160;&#160;&#160; Socks |&#160; PendRequest |&#160; Request/Sec |&#160;&#160; IdleThread |&#160;&#160;&#160;&#160;&#160; JDBCMax |&#160;&#160;&#160;&#160;&#160; JDBCCur |&#160;&#160;&#160; JDBCTotal |&#160;&#160; SessionCur |&#160; SessionHigh | SessionTotal | 

&#160; 3-3 12:20:17 |&#160;&#160;&#160;&#160;&#160;&#160; myserver |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 7001 |&#160;&#160;&#160;&#160;&#160;&#160;&#160; RUNNING |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 32576K |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 20090K |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 20090K |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 3 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 15 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 30 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |   
&#160; 3-3 12:20:17 |&#160;&#160; new\_Server\_1 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 7002 |&#160;&#160;&#160;&#160;&#160;&#160; SHUTDOWN |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 | 

运行说明:   
1. 修改 conf/jndi.properties, 指向您自己的 WebLogic 服务器地址(建议指向 Admin Server)   
2. 修改 wlstat\_env.bat 中的 JDK 版本路径和weblogic.jar路径, Linux/Unix版本请修改 wlstat\_env.sh(目前暂未提供linux版本运行脚本)   
3. 运行 run.bat/run.sh 即可, run\_en.bat/run\_en.sh 则是英文版. rungui.bat 为图形界面版本, 目前仅实现了内存图.   
4. wlstat.csv 可使用 Excel 打开后制作图表   
5. view\_log.bat/view\_log.sh 可跟踪 wlstat.csv文件内容 

图形界面版可点击右键选择时间尺度范围. 

启动参数说明: -t 5000 为指定5秒刷新一次数据, 例如修改 run.bat :   
%J2SE14%binjava -Duser.language=zh -cp ./classes;E:beaweblogic81serverlibweblogic.jar Main -t 5000

转载请注明：[WebLogic Android 博客](http://www.beansoft.biz) &raquo; [wlstat 0.6 版本发布](http://www.beansoft.biz/2010/04/09/wlstat-0-6-%e7%89%88%e6%9c%ac%e5%8f%91%e5%b8%83/)