---
id: 216
title: '转:多机nodemanager测试小记&#038;weblogic103'
date: 2010-07-14T11:17:24+00:00
author: 刘长炯
layout: post
guid: http://www.beansoft.biz/?p=216
permalink: '/2010/07/14/%e8%bd%ac%e5%a4%9a%e6%9c%banodemanager%e6%b5%8b%e8%af%95%e5%b0%8f%e8%ae%b0weblogic103/'
views:
  - "27070"
original_post_id:
  - "216"
image: /wp-content/uploads/2012/04/WebLogic.png
categories:
  - WebLogic
---
出处: [http://weblogicfans.net/viewthread.php?tid=1759&extra=page%3D1](http://weblogicfans.net/viewthread.php?tid=1759&extra=page%3D1 "http://weblogicfans.net/viewthread.php?tid=1759&extra=page%3D1") 作者: tony xu 完整图片请访问论坛

<div class="wrap s_clear threadfix" id="wrap">
  <div class="mainbox viewthread" id="postlist">
    <div id="post_6540">
      <table id="pid6540" cellspacing="0" cellpadding="0" summary="pid6540">
        <tr>
          <td class="postcontent">
            <div class="defaultpost">
              <div class="postmessage firstpost">
                <div id="threadtitle">
                  <h1>
                    多机nodemanager测试小记&weblogic103
                  </h1></p>
                </div>
                
                <div class="t_msgfontfix">
                  <table cellspacing="0" cellpadding="0">
                    <tr>
                      <td class="t_msgfont">
                        <i class="pstatus">本帖最后由 tonyxu 于 2010-1-15 23:19 编辑 </i> </p> 
                        
                        <p>
                          <strong>1、<span class="t_tag">系统</span><span class="t_tag">环境</span></strong> <br />OS：Red Hat Enterprise Linux AS release 4 (Nahant) <br />midware：Weblogic 103 <br />JDK: <span class="t_tag">Java</span>(TM) SE Runtime Environment (build 1.6.0_05-b13) <br /><span class="t_tag">BEA</span> JRockit(R) (build R27.6.0-50_o-100423-1.6.0_05-20080626-2104-<span class="t_tag">linux</span>-ia32, compiled mode)
                        </p>
                        
                        <p>
                          192.168.0.56&#160;&#160;&#160;&#160; 7001&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; admin<span class="t_tag">server</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="t_tag">管理</span><span class="t_tag">服务器</span> <br />192.168.0.55&#160;&#160;&#160;&#160; 7002&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; appserver1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 被管<span class="t_tag">服务</span>器 <br />192.168.0.55&#160;&#160;&#160;&#160; 5555&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; nodemanager&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="t_tag">节点</span>管理器 <br /><strong>2、linux安装<span class="t_tag">web</span>logic</strong> <br />安装用户：bea <br /><strong>安装路径：/home/bea/bea103 <br /></strong>具体安装过程略。 <br /><strong>3、创建weblogic被管服务器</strong> <br />用bea用户登录192.168.0.55，执行/home/bea/bea103/wlserver_10.3/common/bin/config.sh <br />[bea@mylinux bin]$ ./config.sh <br />Unable to instantiate GUI, defaulting to console mode.
                        </p>
                        
                        <p>
                          <&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; <span class="t_tag">Oracle</span> <span class="t_tag">WebLogic</span> Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Welcome: <br />&#8212;&#8212;&#8211; <br />Choose between creating and extending a domain. Based on your selection, the Configuration Wizard guides you through the steps to generate a new or extend an existing domain. <br />->1|Create a new WebLogic domain <br />&#160;&#160;&#160; |&#160;&#160;&#160; Create a WebLogic domain in your projects directory.&#160;&#160; <br />&#160;&#160; 2|Extend an existing WebLogic domain <br />&#160;&#160;&#160; |&#160;&#160;&#160; Extend an existing WebLogic domain.&#160; Use this option to add applications and services, or to override existing database access (<span class="t_tag">JDBC</span>) and messaging (<span class="t_tag">JMS</span>) settings. You <br />&#160;&#160;&#160; |can also incorporate additional functionality in your domain, for ex<span class="t_tag">amp</span>le, by including AquaLogic Service Bus.
                        </p>
                        
                        <p>
                          Enter index number to select OR [Exit][Next]> <br />选择1 <br /><&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Oracle WebLogic Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Select Domain Source: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; <br />Select the source from which the domain will be created. You can create the domain by selecting from the required components or by selecting from a list of existing domain <br />templates. <br />->1|Choose Weblogic Platform components <br />&#160;&#160;&#160; |&#160;&#160;&#160; You can choose the Weblogic component(s) that you want supported in your domain. <br />&#160;&#160; 2|Choose custom template <br />&#160;&#160;&#160; |&#160;&#160;&#160; Choose this option if you want to use an existing&#160; template. This could be a custom created template using the Template Builder.
                        </p>
                        
                        <p>
                          Enter index number to select OR [Exit][Previous][Next]> <br />选择1 <br /><&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Oracle WebLogic Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Application Template Selection: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-
                        </p>
                        
                        <p>
                          &#160;&#160;&#160; Available Templates <br />&#160;&#160;&#160; |_____WebLogic Server (Required)x
                        </p>
                        
                        <p>
                          Enter number exactly as it appears in brackets to toggle selection OR [Exit][Previous][Next]> <br />输入Next <br />Configure <span class="t_tag">Admin</span>istrator Username and Password: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- <br />Create a user to be assigned to the Administrator role. This user is the default administrator used to start development mode servers. <br />&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Value&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; _|_________________________|___________________________<br /> ______________| <br />&#160;&#160; 1|&#160;&#160;&#160;&#160;&#160;&#160; *User name:&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; weblogic&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; 2|&#160;&#160;&#160;&#160; *User password:&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; 3| *Confirm user password: |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; 4|&#160;&#160;&#160;&#160;&#160; Description:&#160;&#160;&#160;&#160;&#160;&#160; | This user is the default administrator. | <br />Use above value or select another option: <br />&#160;&#160;&#160; 1 &#8211; Modify "User name" <br />&#160;&#160;&#160; 2 &#8211; Modify "User password" <br />&#160;&#160;&#160; 3 &#8211; Modify "Confirm user password" <br />&#160;&#160;&#160; 4 &#8211; Modify "Description"
                        </p>
                        
                        <p>
                          Enter option number to select OR [Exit][Previous][Next]> <br />确认用户名和<span class="t_tag">密码</span> <br />Domain Mode Configuration: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211; <br />Enable Development or Production Mode for this domain. <br />->1|Development Mode <br />&#160;&#160; 2|Production Mode
                        </p>
                        
                        <p>
                          Enter index number to select OR [Exit][Previous][Next]> <br />选择生产模式。 <br /><&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Oracle WebLogic Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Java SDK Selection: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- <br />->1|JRockit SDK 1.6.0_05 @ /home/bea/bea103/jrockit_160_05 <br />&#160;&#160; 2|Other Java SDK
                        </p>
                        
                        <p>
                          Enter index number to select OR [Exit][Previous][Next]> <br />选择JDK。
                        </p>
                        
                        <p>
                          <&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Oracle WebLogic Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Choose Configuration Option: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- <br />&#160;&#160;&#160; *Do you want to modify any of the preconfigured settings or defaults in your template? <br />&#160;&#160;&#160; * <br />&#160;&#160;&#160; *To keep the default or template settings, and proceed directly to name and create your domain, leave No selected. <br />&#160;&#160; 1|Yes <br />->2|No
                        </p>
                        
                        <p>
                          Enter index number to select OR [Exit][Previous][Next]> <br />选择1
                        </p>
                        
                        <p>
                          <&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Oracle WebLogic Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Configure RDBMS Security Store Options: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; <br />Create the RDBMS tables in your datastore prior to booting your domain. The scripts for use by your DBA are in WebLogic Server&#8217;s server/lib directory. Click Next to keep the <br />template settings or bypass RDBMS options.&#160;&#160; <br />->1|I don&#8217;t want to change anything here. <br />&#160;&#160; 2|I want to create, change, or remove RDBMS support.
                        </p>
                        
                        <p>
                          Enter index number to select OR [Exit][Previous][Next]> <br />选择1 <br />Enter adminstration server configurations. Each WebLogic Server domain must have one Administration Server. The Administration Server hosts the Administration <span class="t_tag">Console</span> which <br />is used to perform administrative tasks. <br />&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160; Name&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160; Value&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; _|__________________|_____________________| <br />&#160;&#160; 1|&#160;&#160;&#160;&#160;&#160; *Name:&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160; AdminServer&#160;&#160;&#160;&#160; | <br />&#160;&#160; 2| Listen address:&#160; | All Local Addresses | <br />&#160;&#160; 3|&#160;&#160; Listen port:&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160; 7001&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; 4| SSL listen port: |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; N/A&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; 5|&#160;&#160; SSL enabled:&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160; false&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />Use above value or select another option: <br />&#160;&#160;&#160; 1 &#8211; Modify "Name" <br />&#160;&#160;&#160; 2 &#8211; Modify "Listen address" <br />&#160;&#160;&#160; 3 &#8211; Modify "Listen port" <br />&#160;&#160;&#160; 4 &#8211; Modify "SSL enabled"
                        </p>
                        
                        <p>
                          Enter option number to select OR [Exit][Previous][Next]> <br />修改后： <br />|&#160;&#160;&#160;&#160;&#160;&#160; Name&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160; Value&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; _|__________________|_____________________| <br />&#160;&#160; 1|&#160;&#160;&#160;&#160;&#160; *Name:&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160; appserver1&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; 2| Listen address:&#160; | All Local Addresses | <br />&#160;&#160; 3|&#160;&#160; Listen port:&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160; 7002&#160;&#160;&#160;&#16<br /> 0;&#160;&#160;&#160;&#160; | <br />&#160;&#160; 4| SSL listen port: |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; N/A&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | <br />&#160;&#160; 5|&#160;&#160; SSL enabled:&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160; false&#160;&#160;&#160;&#160;&#160;&#160;&#160; |
                        </p>
                        
                        <p>
                          下面的都不用<span class="t_tag">设置</span> <br />Configure Managed Servers: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211; <br />Add or delete configuration information for Managed Servers. A typical production environment has one or more Managed Servers. Each Managed Server is an instance of WebLogic <br />Server used to host enterprise applications. <br />&#160;&#160;&#160; | Name* | Listen address | Listen port | SSL listen port | SSL enabled | <br />&#160;&#160; _|_______|________________|_____________|_________________|_____________|
                        </p>
                        
                        <p>
                          Enter name for a new&#160; OR [Exit][Previous][Next]> <br />Configure Clusters: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- <br />Add or delete configuration information for <span class="t_tag">cluster</span>s. A cluster contains multiple WebLogic Server instances that run simultaneously and work together to provide increased <br />scalability and reliability. A cluster appears to be a single WebLogic Server instance to clients. <br />&#160;&#160;&#160; | Name* | Multicast address | Multicast port | Cluster address | <br />&#160;&#160; _|_______|___________________|________________|_________________|
                        </p>
                        
                        <p>
                          Enter name for a new Cluster OR [Exit][Previous][Next]>
                        </p>
                        
                        <p>
                          <&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Oracle WebLogic Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Configure Machines: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- <br />Add or delete machines. A machine hosts one or more WebLogic Server instances. The Admin Server and Node Manager use this machine definition to start remote servers. <br />&#160;&#160;&#160; | Name* | Node manager listen address | Node manager listen port | <br />&#160;&#160; _|_______|_____________________________|__________________________|
                        </p>
                        
                        <p>
                          Enter name for a new Machine OR [Exit][Previous][Next]>
                        </p>
                        
                        <p>
                          Configure Unix Machines: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; <br />Add or delete machines. A machine hosts one or more WebLogic Server instances. The Admin Server and Node Manager use this machine definition to start remote servers. <br />&#160;&#160;&#160; | Name | <br />&#160;&#160; _|______|
                        </p>
                        
                        <p>
                          Enter name for a new Unix Machine OR [Exit][Previous][Next]>
                        </p>
                        
                        <p>
                          <&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Oracle WebLogic Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Select the target domain directory for this domain: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; <br />&#160;&#160;&#160; "Target Location" = [Enter new value or use default "/home/bea/bea103/user_projects/domains"]
                        </p>
                        
                        <p>
                          Enter new Target Location OR [Exit][Previous][Next]> <br />设置域<span class="t_tag">目录</span>。
                        </p>
                        
                        <p>
                          Edit Domain Information: <br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; <br />&#160;&#160;&#160; |&#160; Name&#160; |&#160;&#160;&#160; Value&#160;&#160;&#160; | <br />&#160;&#160; _|________|_____________| <br />&#160;&#160; 1| *Name: | node_domain | <br />Use above value or select another option: <br />&#160;&#160;&#160; 1 &#8211; Modify "Name" <br />&#160;&#160;&#160; 2 &#8211; Discard Changes <br />设置domain的名字。
                        </p>
                        
                        <p>
                          Enter option number to select OR [Exit][Previous][Next]> next
                        </p>
                        
                        <p>
                          <&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Oracle WebLogic Configuration Wizard &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;> <br />Creating Domain&#8230; <br />0%&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 25%&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 50%&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 75%&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 100% <br />[&#8212;&#8212;&#8212;&#8212;|&#8212;&#8212;&#8212;&#8212;|&#8212;&#8212;&#8212;&#8212;|&#8212;&#8212;&#8212;&#8212;] <br />[***************************************************]
                        </p>
                        
                        <p>
                          **** Domain Created Successfully! **** <br />进入该domain，观察config.<span class="t_tag">xml</span><span class="t_tag">文件</span>： <br />[bea@mylinux config]$ more config.xml <br /><?xml version="1.0" encoding="UTF-8"?> <br /><domain xsi:schemaLocation="<a href="http://www.bea.com/ns/weblogic/90/security" target="_blank">http://www.bea.com/ns/weblogic/90/security</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security.xsd" target="_blank">http://www.bea.com/ns/weblogic/90/security.xsd</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security/wls" target="_blank">http://www.bea.com/ns/weblogic/90/security/wls</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security/wls.xsd" target="_blank">http://www.bea.com/ns/weblogic/90/security/wls.xsd</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security/xacml" target="_blank">http://www.bea.com/ns/weblogic/90/security/xacml</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security/xacml.xsd" target="_blank">http://www.bea.com/ns/weblogic/90/security/xacml.xsd</a> <br /><a href="http://www.bea.com/ns/weblogic/920/domain" target="_blank">http://www.bea.com/ns/weblogic/920/domain</a> <br /><a href="http://www.bea.com/ns/weblogic/920/domain.xsd" target="_blank">http://www.bea.com/ns/weblogic/920/domain.xs<br /> d</a>" xmlns="<a href="http://www.bea.com/ns/weblogic/920/domain" target="_blank">http://www.bea.com/ns/weblogic/920/domain</a>" xmlns:sec="<a href="http://www.bea.com/ns/weblogic/90/security" target="_blank">http://www.bea.com/ns/weblogic/90/security</a>" xmlns:wls="<a href="http://www.bea.c/" target="_blank">http://www.bea.c</a> <br />om/ns/weblogic/90/security/wls" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>"> <br />&#160; <name>node_domain</name> <br />&#160; <domain-version>10.3.0.0</domain-version> <br />&#160; <security-configuration xmlns:xacml="<a href="http://www.bea.com/ns/weblogic/90/security/xacml" target="_blank">http://www.bea.com/ns/weblogic/90/security/xacml</a>"> <br />&#160;&#160;&#160; <name>node_domain</name> <br />&#160;&#160;&#160; <realm> <br />&#160;&#160;&#160;&#160;&#160; <sec:authentication-provider xsi:type="wls:default-authenticatorType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:authentication-provider xsi:type="wls:default-identity-asserterType"> <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; <sec:active-type>AuthenticatedUser</sec:active-type> <br />&#160;&#160;&#160;&#160;&#160; </sec:authentication-provider> <br />&#160;&#160;&#160;&#160;&#160; <sec:role-mapper xsi:type="xacml:xacml-role-mapperType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:authorizer xsi:type="xacml:xacml-authorizerType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:adjudicator xsi:type="wls:default-adjudicatorType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:credential-mapper xsi:type="wls:default-credential-mapperType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:cert-path-provider xsi:type="wls:web-logic-cert-path-providerType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:cert-path-builder>WebLogicCertPathProvider</sec:cert-path-builder> <br />&#160;&#160;&#160;&#160;&#160; <sec:name>myrealm</sec:name> <br />&#160;&#160;&#160; </realm> <br />&#160;&#160;&#160; <default-realm>myrealm</default-realm> <br />&#160;&#160;&#160; <credential-encrypted>{3DES}DDMw4wLCiM2Hy5t2HU4iMricG3RrokurMXGyz7HQcNvQqICj/Q3ufM7vOdUCAvhKKH3l4BWVGYDtUSAGsSNn9GAABDYukwNk</credential-encrypted> <br />&#160;&#160;&#160; <node-manager-username>p06ss5m7oh</node-manager-username> <br />&#160;&#160;&#160; <node-manager-password-encrypted>{3DES}BoyfrKxM+N/gLK07eYh4iQ==</node-manager-password-encrypted> <br />&#160; </security-configuration> <br />&#160; <server> <br />&#160;&#160;&#160; <name>appserver1</name> <br />&#160;&#160;&#160; <listen-port>7002</listen-port> <br />&#160;&#160;&#160; <listen-address/> <br />&#160; </server> <br />&#160; <production-mode-enabled>true</production-mode-enabled> <br />&#160; <br />&#160;&#160;&#160; <name>node_domain</name> <br />&#160;&#160;&#160; <credential-encrypted>{3DES}Hga8oF/+k64afBoOmg3yavCpVGB7FEoKBmJXPVIAAIA=</credential-encrypted> <br />&#160; </embedded-ldap> <br />&#160; <configuration-version>10.3.0.0</configuration-version> <br />&#160; <machine xsi:type="unix-machineType"> <br />&#160;&#160;&#160; <name>nextr</name> <br />&#160;&#160;&#160; <node-manager> <br />&#160;&#160;&#160;&#160;&#160; <name>nextr</name> <br />&#160;&#160;&#160;&#160;&#160; <listen-address>localhost</listen-address> <br />&#160;&#160;&#160; </node-manager> <br />&#160; </machine> <br />&#160; <admin-server-name>appserver1</admin-server-name> <br /></domain>
                        </p>
                        
                        <p>
                          <strong>4、创建weblogic管理服务器</strong> <br />同样的方法，可在192.168.0.56上创建管理服务器adminserver。 <br />[bea@mylinux config]$ more config.xml <br /><?xml version="1.0" encoding="UTF-8"?> <br /><domain xsi:schemaLocation="<a href="http://www.bea.com/ns/weblogic/90/security" target="_blank">http://www.bea.com/ns/weblogic/90/security</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security.xsd" target="_blank">http://www.bea.com/ns/weblogic/90/security.xsd</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security/wls" target="_blank">http://www.bea.com/ns/weblogic/90/security/wls</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security/wls.xsd" target="_blank">http://www.bea.com/ns/weblogic/90/security/wls.xsd</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security/xacml" target="_blank">http://www.bea.com/ns/weblogic/90/security/xacml</a> <br /><a href="http://www.bea.com/ns/weblogic/90/security/xacml.xsd" target="_blank">http://www.bea.com/ns/weblogic/90/security/xacml.xsd</a> <br /><a href="http://www.bea.com/ns/weblogic/920/domain" target="_blank">http://www.bea.com/ns/weblogic/920/domain</a> <br /><a href="http://www.bea.com/ns/weblogic/920/domain.xsd" target="_blank">http://www.bea.com/ns/weblogic/920/domain.xsd</a>" xmlns="<a href="http://www.bea.com/ns/weblogic/920/domain" target="_blank">http://www.bea.com/ns/weblogic/920/domain</a>" xmlns:sec="<a href="http://www.bea.com/ns/weblogic/90/security" target="_blank">http://www.bea.com/ns/weblogic/90/security</a>" xmlns:wls="<a href="http://www.bea.c/" target="_blank">http://www.bea.c</a> <br />om/ns/weblogic/90/security/wls" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>"> <br />&#160; <name>node_domain</name> <br />&#160; <domain-version>10.3.0.0</domain-version> <br />&#160; <security-configuration xmlns:xacml="<a href="http://www.bea.com/ns/weblogic/90/security/xacml" target="_blank">http://www.bea.com/ns/weblogic/90/security/xacml</a>"> <br />&#160;&#160;&#160; <name>node_domain</name> <br />&#160;&#160;&#160; <realm> <br />&#160;&#160;&#160;&#160;&#160; <sec:authentication-provider xsi:type="wls:default-authenticatorType"/><br /> <br />&#160;&#160;&#160;&#160;&#160; <sec:authentication-provider xsi:type="wls:default-identity-asserterType"> <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; <sec:active-type>AuthenticatedUser</sec:active-type> <br />&#160;&#160;&#160;&#160;&#160; </sec:authentication-provider> <br />&#160;&#160;&#160;&#160;&#160; <sec:role-mapper xsi:type="xacml:xacml-role-mapperType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:authorizer xsi:type="xacml:xacml-authorizerType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:adjudicator xsi:type="wls:default-adjudicatorType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:credential-mapper xsi:type="wls:default-credential-mapperType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:cert-path-provider xsi:type="wls:web-logic-cert-path-providerType"/> <br />&#160;&#160;&#160;&#160;&#160; <sec:cert-path-builder>WebLogicCertPathProvider</sec:cert-path-builder> <br />&#160;&#160;&#160;&#160;&#160; <sec:name>myrealm</sec:name> <br />&#160;&#160;&#160; </realm> <br />&#160;&#160;&#160; <default-realm>myrealm</default-realm> <br />&#160;&#160;&#160; <credential-encrypted>{3DES}ZLbzAUWd6zDASnRvcFsPLsMTYRxgyjEJRnh5GMuwxbBN+D3AkCuXTeuyo4Fep+4vDf+mcYq2OfIgR5rUdsdXKsW8J1tWSqDI</credential-encrypted> <br />&#160;&#160;&#160; <node-manager-username>OMAdtHWxW3</node-manager-username> <br />&#160;&#160;&#160; <node-manager-password-encrypted>{3DES}oc3Rs2SGum0hfPqlpCCJTQ==</node-manager-password-encrypted> <br />&#160; </security-configuration> <br />&#160; <server> <br />&#160;&#160;&#160; <name>adminserver</name> <br />&#160;&#160;&#160; <listen-address/> <br />&#160; </server> <br />&#160; <production-mode-enabled>true</production-mode-enabled> <br />&#160; <br />&#160;&#160;&#160; <name>node_domain</name> <br />&#160;&#160;&#160; <credential-encrypted>{3DES}qJ32FuAb7yV3an41PDjg+OdU3jPe7SOefwOie1GPkis=</credential-encrypted> <br />&#160; </embedded-ldap> <br />&#160; <configuration-version>10.3.0.0</configuration-version> <br />&#160; <admin-server-name>adminserver</admin-server-name> <br /></domain> <br />[bea@mylinux config]$
                        </p>
                        
                        <p>
                          <strong>5、启动weblogic服务器</strong> <br />(1)启动管理服务器 <br />[bea@mylinux node_domain]$ ./startWebLogic.sh <br /><Jan 15, 2010 3:46:25 PM EST> <Notice> <Server> <BEA-002613> <Channel "Default" is now listening on 192.168.0.56:7001 for protocols iiop, t3, ldap, snmp, http.> <br /><Jan 15, 2010 3:46:25 PM EST> <Notice> <Server> <BEA-002613> <Channel "Default[1]" is now listening on 127.0.0.1:7001 for protocols iiop, t3, ldap, snmp, http.> <br /><Jan 15, 2010 3:46:25 PM EST> <Notice> <WebLogicServer> <BEA-000329> <Started WebLogic Admin Server "adminserver" for domain "node_domain" running in Production Mode> <br /><Jan 15, 2010 3:46:25 PM EST> <Warning> <Server> <BEA-002611> <Hostname "mylinux", maps to multiple IP addresses: 192.168.0.56, 127.0.0.1> <br /><Jan 15, 2010 3:46:25 PM EST> <Warning> <Server> <BEA-002611> <Hostname "127.0.0.1", maps to multiple IP addresses: 192.168.0.56, 127.0.0.1> <br /><Jan 15, 2010 3:46:26 PM EST> <Notice> <WebLogicServer> <BEA-000365> <Server state changed to RUNNING> <br /><Jan 15, 2010 3:46:26 PM EST> <Notice> <WebLogicServer> <BEA-000360> <Server started in RUNNING mode> <br />(2)添加被管服务器 <br />新建一个server <br />接下来配置位于192.168.0.55的被管服务器的名称，服务器IP，监听端口后保存。本例分别设置为appserver1，192.168.0.55，7002
                        </p>
                        
                        <p>
                          <font color="#000000"><strong><font face="Times New Roman ">(3)</font></strong><strong><font face="宋体 ">启动被管服务器</font></strong></font> <br /><strong><font face="Times New Roman "></font><font color="#000000"></font></strong> <br /><font color="#000000"></font><font face="宋体 ">进入</font><font face="Times New Roman ">192.168.0.55</font><font face="宋体 ">上的</font><font face="Times New Roman ">node_domain,</font><font face="宋体 ">启动被管服务器</font><font face="Times New Roman ">appserver1</font> <br /><font face="Times New Roman "></font><font color="#000000">[bea@mylinux bin]$ ./startManagedWebLogic.sh appserver1 </font><a href="http://192.168.0.56:7001/" target="_blank"><font face="Times New Roman "></font><font color="#0000ff">http://192.168.0.56:7001</font></a> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font color="#000000"></font><font face="宋体 ">其中</font><font face="Times New Roman ">192.168.0.56:7001</font><font face="宋体 ">是管理服务器的</font><font face="Times New Roman ">IP</font><font face="宋体 ">和端口。</font> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font color="#ff0000"></font><font face="Times New Roman "><Jan 15, 2010 4:08:34 PM EST> <Notice> <Log Management> <BEA-170027> <The Server has established <span class="t_tag">connection</span> with the Domain level Diagnostic Service successfully.> </font> <br /><font face="Times New Roman "></font><font color="#000000"><Jan 15, 2010 4:08:34 PM EST> <Notice> <WebLogicServer> <BEA-000365> <Server state changed to ADMIN> </font> <br /><font face="Times New Roman "></font><font color="#000000"><Jan 15, 2010 4:08:34 PM EST> <Notice> <WebLogicServer> <BEA-000365> <Server state changed to RESUMING> </font> <br /><font face="Times New Roman "></font><font color="#000000"><Jan 15, 2010 4:08:35 PM EST> <Notice> <Server> <BEA-002613> <Channel "Default" is now listening on 192.168.0.55:7002 for protocols iiop, t3, ldap, snmp, http.> </font> <br /><font face="Times New Roman "></font><font color="#000000"><Jan 15, 2010 4:08:35 PM EST> <Notice> <WebLogicServe<br /> r> <BEA-000330> <Started WebLogic Managed Server "appserver1" for domain "node_domain" running in Production Mode> </font> <br /><font face="Times New Roman "></font><font color="#000000"><Jan 15, 2010 4:08:40 PM EST> <Notice> <WebLogicServer> <BEA-000365> <Server state changed to RUNNING> </font> <br /><font face="Times New Roman "></font><font color="#000000"><Jan 15, 2010 4:08:40 PM EST> <Notice> <WebLogicServer> <BEA-000360> <Server started in RUNNING mode></font> <br /><font face="Times New Roman "></font><font color="#000000"></font>
                        </p>
                        
                        <p>
                          <strong>6、配置节点管理器</strong>
                        </p>
                        
                        <p>
                          在尝试了非节点管理器方式启动受管服务器后，现在来配置用节点管理器启动。
                        </p>
                        
                        <p>
                          <font face="Times New Roman "></font><font color="#000000"><strong><font face="宋体 ">创建</font>machine:</strong> <br /></font> <br /><font face="Times New Roman "></font><font color="#000000"> </p> 
                          
                          <p>
                            </font></td> </tr> </tbody> </table> 
                            
                            <div class="locked">
                              附件: <em>您所在的用户组无法下载或查看附件</em>
                            </div>
                          </p></div> </p></div> </p></div> </td> </tr> </tbody> </table></div> </p></div> </p></div> 
                          
                          <div class="wrap s_clear threadfix" id="wrap">
                            <div class="mainbox viewthread" id="postlist">
                              <div id="post_6541">
                                <table id="pid6541" cellspacing="0" cellpadding="0" summary="pid6541">
                                  <tr>
                                    <td class="postcontent">
                                      <div class="defaultpost">
                                        <div class="postmessage ">
                                          <div class="t_msgfontfix">
                                            <table cellspacing="0" cellpadding="0">
                                              <tr>
                                                <td class="t_msgfont">
                                                  配置nodemanager </p> 
                                                  
                                                  <p>
                                                    上图的IP应该是0.55
                                                  </p>
                                                  
                                                  <p>
                                                    <font color="#000000"><strong><font face="宋体 ">启动</font><font face="Times New Roman ">NodeManager</font></strong><strong><font face="宋体 ">，并通过</font><font face="Times New Roman ">console</font></strong><strong><font face="宋体 ">远程启动被管服务器</font></strong></font> <br /><strong><font face="Times New Roman "></font><font color="#000000"></font></strong> <br /><font color="#000000"></font><font face="Times New Roman ">(1)</font><font face="宋体 ">通过如下命令启动</font><font face="Times New Roman ">Machine1</font><font face="宋体 ">上的</font><font face="Times New Roman ">NodeManager</font><font face="宋体 ">：</font><font face="Arial "></font><font></font> <br /><strong><font face="Courier New "></font><font color="#000000"></font></strong> <br /><font color="#000000"></font><font face="Times New Roman ">/home/bea/bea103/wlserver_10.3/server/bin</font> <br /><font color="#000000"></font><font face="Times New Roman ">[bea@mylinux bin]$ ./startNodeManager.sh 192.168.0.55 5555</font> <br /><font color="#000000"></font><font face="Times New Roman ">+ CLASSPATH=/home/bea/bea103/patch_wls1030/profiles/default/sys_manifest_classpath/weblogic_patch.jar:/home/bea/bea103/patch_cie660/profiles/default/sys_manifest_classpath/weblogic_patch.jar:/home/bea/bea103/jrockit_160_05/lib/tools.jar:/home/bea/bea103/wlserver_10.3/server/lib/weblogic_sp.jar:/home/bea/bea103/wlserver_10.3/server/lib/weblogic.jar:/home/bea/bea103/modules/features/weblogic.server.modules_10.3.0.0.jar:/home/bea/bea103/wlserver_10.3/server/lib/webservices.jar:/home/bea/bea103/modules/org.apache.ant_1.6.5/lib/ant-all.jar:/home/bea/bea103/modules/net.sf.antcontrib_1.0.0.0_1-0b2/lib/ant-contrib.jar::/home/bea/bea103</font> <br /><font color="#000000"></font><font face="Times New Roman ">+ export CLASSPATH</font> <br /><font color="#000000"></font><font face="Times New Roman ">+ export PATH</font> <br /><font color="#000000"></font><font face="Times New Roman ">+ cd /home/bea/bea103/wlserver_10.3/common/nodemanager</font> <br /><font color="#000000"></font><font face="Times New Roman ">+ set -x</font> <br /><font color="#000000"></font><font face="Times New Roman ">+ &#8216;[&#8216; 5555 &#8216;!=&#8217; &#8221; &#8216;]&#8217;</font> <br /><font color="#000000"></font><font face="Times New Roman ">+ &#8216;[&#8216; 192.168.0.55 &#8216;!=&#8217; &#8221; &#8216;]&#8217;</font> <br /><font color="#000000"></font><font face="Times New Roman ">+ /home/bea/bea103/jrockit_160_05/bin/java -jrockit -Xms128m -Xmx256m -Xverify:none -Djava.security.policy=/home/bea/bea103/wlserver_10.3/server/lib/weblogic.policy -Dweblogic.nodemanager.javaHome=/home/bea/bea103/jrockit_160_05 -DListenAddress=192.168.0.55 -DListenPort=5555 weblogic.NodeManager -v</font> <br /><font color="#ff0000"></font><font face="Times New Roman "><Jan 15, 2010 4:59:37 PM> <INFO> <Loading domains file: /home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.domains></font> <br /><font color="#ff0000"></font><font face="Times New Roman "><Jan 15, 2010 4:59:39 PM> <INFO> <Loading identity key store: FileName=/home/bea/bea103/wlserver_10.3/server/lib/DemoIdentity.jks, Type=jks, PassPhraseUsed=true></font> <br /><font color="#ff0000"></font><font face="Times New Roman "><Jan 15, 2010 4:59:40 PM> <WARNING> <Node manager configuration properties file &#8216;/home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.properties&#8217; not found. Using default settings.></font> <br /><font color="#ff0000"></font><font face="Times New Roman "><Jan 15, 2010 4:59:40 PM> <Info> <Saving node manager configuration properties to &#8216;/home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.properties"></font> <br /><font color="#000000"></font><font face="Times New Roman ">Node manager v10.3</font> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font color="#000000"></font><font face="Times New Roman ">Configuration settings:</font> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font color="#000000"></font><font face="Times New Roman ">NodeManagerHome=/home/bea/bea103/wlserver_10.3/common/nodemanager</font> <br /><font color="#000000"></font><font face="Times New Roman ">ListenAddress=192.168.0.55</font> <br /><font color="#000000"></font><font face="Times New Roman ">ListenPort=5555</font> <br /><font color="#000000"></font><font face="Times New Roman ">ListenBacklog=50</font> <br /><font color="#000000"></font><font face="Times New Roman ">SecureListener=true</font> <br /><font color="#000000"></font><font face="Times New Roman ">AuthenticationEnabled=true</font> <br /><font color="#000000"></font><font face="Times New Roman ">NativeVersionEn<br /> abled=true</font> <br /><font color="#000000"></font><font face="Times New Roman ">CrashRecoveryEnabled=false</font> <br /><font color="#000000"></font><font face="Times New Roman ">JavaHome=/home/bea/bea103/jrockit_160_05/jre</font> <br /><font color="#000000"></font><font face="Times New Roman ">StartScriptEnabled=false</font> <br /><font color="#000000"></font><font face="Times New Roman ">StopScriptEnabled=false</font> <br /><font color="#000000"></font><font face="Times New Roman ">StartScriptName=startWebLogic.sh</font> <br /><font color="#000000"></font><font face="Times New Roman ">StopScriptName=</font> <br /><font color="#000000"></font><font face="Times New Roman ">LogFile=/home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.log</font> <br /><font color="#000000"></font><font face="Times New Roman ">LogLevel=INFO</font> <br /><font color="#000000"></font><font face="Times New Roman ">LogLimit=0</font> <br /><font color="#000000"></font><font face="Times New Roman ">LogCount=1</font> <br /><font color="#000000"></font><font face="Times New Roman ">LogAppend=true</font> <br /><font color="#000000"></font><font face="Times New Roman ">LogToStderr=true</font> <br /><font color="#000000"></font><font face="Times New Roman ">LogFormatter=weblogic.nodemanager.server.LogFormatter</font> <br /><font color="#000000"></font><font face="Times New Roman ">DomainsFile=/home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.domains</font> <br /><font color="#000000"></font><font face="Times New Roman ">DomainsFileEnabled=true</font> <br /><font color="#000000"></font><font face="Times New Roman ">StateCheckInterval=500</font> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font color="#000000"></font><font face="Times New Roman ">Domain name mappings:</font> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font color="#000000"></font><font face="Times New Roman ">wl_server -> /home/bea/bea103/wlserver_10.3/samples/domains/wl_server</font> <br /><font color="#000000"></font><font face="Times New Roman ">base_domain -> /home/bea/bea103/user_projects/domains/base_domain</font> <br /><font color="#000000"></font><font face="Times New Roman ">medrec -> /home/bea/bea103/wlserver_10.3/samples/domains/medrec</font> <br /><font color="#000000"></font><font face="Times New Roman ">node_domain -> /home/bea/bea103/user_projects/domains/node_domain</font> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font color="#000000"></font><font face="Times New Roman "><Jan 15, 2010 4:59:42 PM> <INFO> <Secure socket listener started on port 5555, host 192.168.0.55></font> <br /><font color="#000000"><strong><font face="Times New Roman ">Adminserver</font></strong><strong><font face="宋体 ">报错：</font></strong></font> <br /><font color="#000000"></font><font face="Times New Roman ">The system is vulnerable to security attacks, since it trusts certificates signed by the demo trusted CA.> </font> <br /><font color="#000000"></font><font face="Times New Roman "><Jan 15, 2010 5:13:56 PM EST> <Error> <NodeManager> <BEA-300033> <Could not execute command "getVersion" on the node manager. Reason: "Connection refused. Couldn&#8217;t connect to NodeManager. Check that it is running at 192.168.0.56:5555".></font> <br /><font face="Times New Roman "></font><font color="#000000"></font> <br /><font color="#000000"></font><font face="宋体 ">修改</font><font face="Times New Roman ">adminserver</font><font face="宋体 ">的配置</font>
                                                  </p>
                                                  
                                                  <p>
                                                    <font color="#000000"></font><font face="宋体 ">修改后需重启</font><font face="Times New Roman ">adminserver</font><font face="宋体 ">，再启动</font><font face="Times New Roman ">nodemanager</font><font face="宋体 ">后，状态变为</font><font face="Times New Roman ">reachable,</font><font face="宋体 ">成功，同时在</font><font face="Times New Roman ">console</font><font face="宋体 ">上去启动</font><font face="Times New Roman ">appserver1.</font> <br /><font color="#000000"></font><font face="Times New Roman "></font> <br /><font color="#000000"></font><font face="Times New Roman "></font> <br /><font color="#000000"></font><font face="Times New Roman "></font> <br /><font color="#000000"></font><font face="Times New Roman ">(2)</font><font face="宋体 ">重新登录</font>console<font face="宋体 ">，依次点击左边的</font>“<font face="宋体 ">环境</font>”——“<font face="宋体 ">服务器</font>”<font face="宋体 ">，可以看到</font><strong><font color="windowtext"></font><font face="宋体 ">管理</font></strong><font face="宋体 ">服务器和被管服务器的状态：</font>
                                                  </p>
                                                  
                                                  <p>
                                                    <font face="宋体 "></font> <br /><font face="宋体 "></font> <br /><font size="5"></font><font face="Arial ">7</font><font face="黑体 ">、测试节点管理器重启受管服务器的功能</font>192.168.0.55<font face="宋体 ">上（受管服务器所在机器）</font> <br />[bea@mylinux nodemanager]$ ps -ef|grep java <br />bea <br />3169 <br />3146 <br />0 17:17 pts/1 <br />00:00:00 /home/bea/bea103/jrockit_160_05/bin/java -jrockit -Xms128m -Xmx256m -Xverify:none -Djava.security.policy=/home/bea/bea103/wlserver_10.3/server/lib/weblogic.policy -Dweblogic.nodemanager.javaHome=/home/bea/bea103/jrockit_160_05 -DListenAddress=192.168.0.55 -DListenPort=5555 weblogic.NodeManager -v <br />bea <br /><font color="#ff0000">3193</font> <br />3169 <br />0 17:20 ? <br />00:00:00 /home/bea/bea103/jrockit_160_05/jre/bin/java -Dweblogic.Name=appserver1 -Djava.security.policy=/home/bea/bea103/wlserver_10.3/server/lib/weblogic.policy -Dweblogic.management.server=http://192.168.0.56:7001 -Djava.library.path=/home/bea/bea103/jrockit_160_05/jre/lib/i386/jrockit:/home/bea/bea103/jrockit_160_05/jre/lib/i386:/home/bea/bea103/jrockit_160_05/jre/../lib/i386::/home/bea/bea103/wlserver_10.3/server/native/linux/i686:/home/bea/bea103/wlserver_10.3/server/native/linux/i686/oci920_8 -Djava.class.path=/home/bea/bea103/patch_wls1030/profiles/default/sys_manifest_classpath/weblogic_patch.jar:/home/bea/bea103/patch_cie660/profiles/default/sys_manifest_classpath/weblogic_patch.jar:/home/bea/bea103/jrockit_160_05/lib/tools.jar:/home/bea/bea103/wlserver_10.3/server/lib/weblogic_sp.jar:/home/bea/bea103/wlserver_10.3/server/lib/weblogic.jar:/home/bea/bea103/modu<br /> les/features/weblogic.server.modules_10.3.0.0.jar:/home/bea/bea103/wlserver_10.3/server/lib/webservices.jar:/home/bea/bea103/modules/org.apache.ant_1.6.5/lib/ant-all.jar:/home/bea/bea103/modules/net.sf.antcontrib_1.0.0.0_1-0b2/lib/ant-contrib.jar::/home/bea/bea103 -Dweblogic.system.BootIdentityFile=/home/bea/bea103/user_projects/domains/node_domain/servers/appserver1/data/nodemanager/boot.properties -Dweblogic.nodemanager.ServiceEnabled=true -Dweblogic.security.SSL.ignoreHostnameVerification=false -Dweblogic.ReverseDNSAllowed=false weblogic.Server <br />bea <br />3224 <br />2903 <br />0 17:24 pts/0 <br />00:00:00 grep java
                                                  </p>
                                                  
                                                  <p>
                                                    kill<font face="宋体 ">掉进程号为</font>3193<font face="宋体 ">的</font>appserver1 <br />bea@mylinux nodemanager]$ ps -ef|grep java <br />bea <br />3169 <br />3146 <br />0 17:17 pts/1 <br />00:00:00 /home/bea/bea103/jrockit_160_05/bin/java -jrockit -Xms128m -Xmx256m -Xverify:none -Djava.security.policy=/home/bea/bea103/wlserver_10.3/server/lib/weblogic.policy -Dweblogic.nodemanager.javaHome=/home/bea/bea103/jrockit_160_05 -DListenAddress=192.168.0.55 -DListenPort=5555 weblogic.NodeManager -v <br />bea <br /><font color="#ff0000">3262</font> <br />3169 <br />0 17:28 ? <br />00:00:00 /home/bea/bea103/jrockit_160_05/jre/bin/java -Dweblogic.Name=appserver1 -Djava.security.policy=/home/bea/bea103/wlserver_10.3/server/lib/weblogic.policy -Dweblogic.management.server=http://192.168.0.56:7001 -Djava.library.path=/home/bea/bea103/jrockit_160_05/jre/lib/i386/jrockit:/home/bea/bea103/jrockit_160_05/jre/lib/i386:/home/bea/bea103/jrockit_160_05/jre/../lib/i386::/home/bea/bea103/wlserver_10.3/server/native/linux/i686:/home/bea/bea103/wlserver_10.3/server/native/linux/i686/oci920_8 -Djava.class.path=/home/bea/bea103/patch_wls1030/profiles/default/sys_manifest_classpath/weblogic_patch.jar:/home/bea/bea103/patch_cie660/profiles/default/sys_manifest_classpath/weblogic_patch.jar:/home/bea/bea103/jrockit_160_05/lib/tools.jar:/home/bea/bea103/wlserver_10.3/server/lib/weblogic_sp.jar:/home/bea/bea103/wlserver_10.3/server/lib/weblogic.jar:/home/bea/bea103/modules/features/weblogic.server.modules_10.3.0.0.jar:/home/bea/bea103/wlserver_10.3/server/lib/webservices.jar:/home/bea/bea103/modules/org.apache.ant_1.6.5/lib/ant-all.jar:/home/bea/bea103/modules/net.sf.antcontrib_1.0.0.0_1-0b2/lib/ant-contrib.jar::/home/bea/bea103 -Dweblogic.system.BootIdentityFile=/home/bea/bea103/user_projects/domains/node_domain/servers/appserver1/data/nodemanager/boot.properties -Dweblogic.nodemanager.ServiceEnabled=true -Dweblogic.security.SSL.ignoreHostnameVerification=false -Dweblogic.ReverseDNSAllowed=false weblogic.Server <br />bea <br />3274 <br />2903 <br />0 17:28 pts/0 <br />00:00:00 grep java
                                                  </p>
                                                  
                                                  <p>
                                                    <font face="宋体 ">可以看到</font>appserver1<font face="宋体 ">的进程号已经变化了，同时迅速去观察</font>console<font face="宋体 ">上</font>appserver1<font face="宋体 ">的状态为：</font>
                                                  </p>
                                                  
                                                  <p>
                                                    <font face="宋体 ">等待一会又会回到</font>running<font face="宋体 ">状态，如图</font>
                                                  </p>
                                                  
                                                  <p>
                                                    <font face="宋体 "></font>
                                                  </p>
                                                  
                                                  <p>
                                                    <font color="#000000"></font><font face="Times New Roman "></font><font face="宋体 ">测试成功。</font> <br /><font size="5"></font><font face="Arial ">8</font><font face="黑体 ">、总结</font><font face="宋体 "></font><font>（</font><font face="Arial "></font><font>1</font><font face="宋体 "></font><font>）</font><font face="宋体 ">注意修改</font> adminserver<font face="宋体 ">的参数</font><font face="Arial "></font><font>Hostname Verification</font><font face="宋体 "></font><font>为</font><font face="Arial "></font><font>none.</font> <br /><font face="宋体 "></font><font>（</font><font face="Arial "></font><font>2</font><font face="宋体 "></font><font>）</font><font face="Arial "></font><font>Nodemanager</font><font face="宋体 "></font><font>在启动的时候会首先去寻找</font><font face="Arial "></font><font> nodemanager.properties</font> <br /><font face="Arial "></font><font></font> <br /><font face="Arial "></font><font><Jan 15, 2010 4:59:37 PM> <INFO> <Loading domains file: /home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.domains></font> <br /><font face="Arial "></font><font><Jan 15, 2010 4:59:39 PM> <INFO> <Loading identity key store: FileName=/home/bea/bea103/wlserver_10.3/server/lib/DemoIdentity.jks, Type=jks, PassPhraseUsed=true></font> <br /><font face="Arial "></font><font><Jan 15, 2010 4:59:40 PM> <WARNING> <</font><font color="#ff0000">Node manager configuration properties file &#8216;/home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.properties&#8217; not found. Using</font> default settings.> <br /><font face="宋体 "></font><font>如果没有找到，就会采取默认的设置，下次启动会读取这个配置文件，如下：</font><font face="Arial "></font><font></font> <br /><font face="Arial "></font><font></font> <br /><font face="Arial "></font><font><Jan 15, 2010 5:09:58 PM> <INFO> <Loading domains file: /home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.domains></font> <br /><font face="Arial "></font><font><Jan 15, 2010 5:09:58 PM> <INFO> <Loading identity key store: FileName=/home/bea/bea103/wlserver_10.3/server/lib/DemoIdentity.jks, Type=jks, PassPhraseUsed=true></font> <br /><font face="Arial "></font><font><Jan 15, 2010 5:09:59 PM> <INFO> <</font><font color="#ff0000">Loaded node manager configuration properties from &#8216;/home/bea/bea103/wlserver_10.3/common/nodemanager/nodemanager.properties&#8217;</font>> <br /><font face="Arial "></font><font></font> <br /><font face="宋体 "></font><font>登录到没配置节点管理器的</font><font face="Arial "></font><font>192.168.0.56</font><font face="宋体 "></font><font>去查看，里面只有一个</font><font face="Arial "></font><font>nodemanager.domains</font><font face="宋体 "><font>，说明在初始状态是没有</font><font face="Arial "></font><font>nodemanager.properties</font><font face="宋体 "></font><font>的</font><font face="Arial "></font><font></font> </p> 
                                                    
                                                    <p>
                                                      <font face="宋体 "></font><font>去验证了下weblogic</font><font face="Arial "></font><font>923forwin</font><font face="宋体 "></font><font>的版本，也是只有一个</font><font face="Arial "></font><font>.domains</font>
                                                    </p>
                                                    
                                                    <p>
                                                      <font face="宋体 "></font><font>看看该文件的内容：</font><font face="Arial "></font><font></font> <br /><font face="Arial "></font><font>[bea@mylinux nodemanager]$ more nodemanager.domains </font> <br /><font face="Arial "></font><font>#Domains and directories created by Configuration Wizard</font> <br /><font face="Arial "></font><font>#Fri Jan 15 15:40:50 EST 2010</font> <br /><font face="Arial "></font><font>wl_server=/home/bea/bea103/wlserver_10.3/samples/domains/wl_server</font> <br /><font face="Arial "></font><font>base_domain=/home/bea/bea103/user_projects/domains/base_domain</font> <br /><font face="Arial "></font><font>node_domain=/home/bea/bea103/user_projects/domains/node_domain</font> <br /><font face="Arial "></font><font>medrec=/home/bea/bea103/wlserver_10.3/samples/domains/medrec</font> <br /><font face="Arial "></font><font>[bea@mylinux nodemanager]$</font> <br /><font face="Arial "></font><font></font> <br /><font face="Arial "></font><font></font> <br /><font face="宋体 "></font><font>又看了</font><font face="Arial "></font><font>55</font><font face="宋体 "></font><font>上这个文件的内容</font><font face="Arial "></font><font></font> <br /><font face="Arial "></font><font>[bea@mylinux nodemanager]$ more nodemanager.domains</font> <br /><font face="Arial "></font><font>#Domains and directories created by Configuration Wizard</font> <br /><font face="Arial "></font><font>#Fri Jan 15 15:28:43 EST 2010</font> <br /><font face="Arial "></font><font>wl_server=/home/bea/bea103/wlserver_10.3/samples/domains/wl_server</font> <br /><font face="Arial "></font><font>base_domain=/home/bea/bea103/user_projects/domains/base_domain</font> <br /><font face="Arial "></font><font>node_domain=/home/bea/bea103/user_projects/domains/node_domain</font> <br /><font face="Arial "></font><font>medrec=/home/bea/bea103/wlserver_10.3/samples/domains/medrec</font> <br /><font face="Arial "></font><font></font> <br /><font face="宋体 "></font><font>发现这个文件的内容不会变化。</font><font face="Arial "></font><font></font> <br /><font face="Arial "></font><font></font> <br /><font face="宋体 "></font><font>下面是启动了节点管理器后，</font><font face="Arial "></font><font>&#8216;/home/bea/bea103/wlserver_10.3/common/nodemanager文件夹里文件的变化</font> <br /><font face="Arial "></font><font></font>
                                                    </p>
                                                    
                                                    <p>
                                                      <font face="Arial "></font><font></font><font color="#000000"></font><font face="宋体 "></font><font>（</font><font face="Arial "></font><font>3</font><font face="宋体 "></font><font>）当节点管理器启动后，通过</font><font face="Arial "></font><font>console</font><font face="宋体 "></font><font>去启动被管服务器时</font><font face="Arial "></font><font></font> <br /><font color="#000000"></font><font face="宋体 "></font><font>会有以下相关的操作：</font><font face="Arial "></font><font></font> <br /><font face="Arial "></font><font></font><font color="#000000"><Jan 15, 2010 5:20:18 PM> <Info> <node_domain> <appserver1> <<strong>Creating directory "/home/bea/bea103/user_projects/domains/node_domain/servers/appserver1/security"></strong></font> <br /><font face="Arial "></font><font></font><font color="#000000"><Jan 15, 2010 5:20:18 PM> <Info> <node_domain> <appserver1> <<strong>Creating directory "/home/bea/bea103/user_projects/domains/node_domain/servers/appserver1/data/nodemanager</strong>"></font> <br /><font face="Arial "></font><font></font><font color="#000000"><Jan 15, 2010 5:20:19 PM> <Info> <node_domain> <appserver1> <<strong>Boot identity properties saved to "/home/bea/bea103/user_projects/domains/node_domain/servers/appserver1/data/nodemanager/boot.properties</strong>"></font> <br /><font face="Arial "></font><font></font><font color="#000000"><Jan 15, 2010 5:20:19 PM> <Info> <node_domain> <appserver1> <<strong>Startup configuration properties saved to "/home/bea/bea103/user_projects/domains/node_domain/servers/appserver1/data/nodemanager/startup.properties</strong>"></font>
                                                    </p>
                                                    
                                                    <p>
                                                      </td> </tr> </tbody> </table> 
                                                      
                                                      <div class="locked">
                                                        附件: <em>您所在的用户组无法下载或查看附件</em>
                                                      </div>
                                                    </p></div> </p></div> </p></div> </td> </tr> </tbody> </table></div> </p></div> </p></div> 
                                                    
                                                    <p>
                                                      转载请注明：<a href="http://www.beansoft.biz">WebLogic Android 博客</a> &raquo; <a href="http://www.beansoft.biz/2010/07/14/%e8%bd%ac%e5%a4%9a%e6%9c%banodemanager%e6%b5%8b%e8%af%95%e5%b0%8f%e8%ae%b0weblogic103/">转:多机nodemanager测试小记&weblogic103</a>
                                                    </p>